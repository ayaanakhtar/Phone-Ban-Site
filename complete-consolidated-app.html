<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landing Page</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            line-height: 1.47059;
            color: #1d1d1f;
            background: 
                url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E"),
                #d62e0d;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            text-align: center;
            box-sizing: border-box;
        }

        .container {
            max-width: 1500px;
            width: 100%;
        }

        .hero-sentence {
            font-family: 'Fivo Sans Modern Heavy', 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 125px;
            font-weight: 900;
            font-style: normal;
            color: #000000;
            margin-bottom: 20px;
            line-height: 1.2;
            letter-spacing: -0.003em;
        }

        .mobile-break {
            display: none;
        }

        .blurb {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 21px;
            font-weight: 400;
            color: #FFFFFF;
            margin-bottom: 40px;
            line-height: 1.6;
            letter-spacing: 0.011em;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }

        .form-group {
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
        }

        .input-container {
            position: relative;
            width: 280px;
            height: 56px;
            transform: skewX(-15deg);
        }

        .name-input {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            padding: 16px 24px;
            font-size: 17px;
            font-weight: 400;
            font-style: normal;
            border: none;
            border-radius: 0;
            background: #D4C8B5;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: #000000;
            width: 100%;
            height: 100%;
            box-shadow: inset 4px 4px 8px rgba(0, 0, 0, 0.15), inset -2px -2px 4px rgba(255, 255, 255, 0.3);
        }

        .name-input:focus {
            outline: none;
            box-shadow: inset 6px 6px 12px rgba(0, 0, 0, 0.2), inset -3px -3px 6px rgba(255, 255, 255, 0.4);
            background: #C5B8A3;
        }

        .name-input:disabled {
            background: #A0957F;
            color: #666666;
            cursor: not-allowed;
        }

        .placeholder-text {
            position: absolute;
            top: 50%;
            left: 24px;
            transform: translateY(-50%) skewX(15deg);
            color: #000000;
            font-style: italic;
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-weight: 400;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .name-input:focus + .placeholder-text {
            opacity: 0;
        }


        .blinking-cursor {
            animation: blink 1s infinite;
            display: inline-block;
            width: 1px;
            height: 18px;
            background-color: #000000;
            margin-left: 2px;
            border-radius: 0;
            vertical-align: text-bottom;
            position: relative;
            top: 1px;
            font-style: italic;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .checkbox-container {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            justify-content: center;
            margin: 20px 0;
            gap: 8px;
        }

        .anonymous-checkbox {
            width: 18px;
            height: 18px;
            accent-color: #D4C8B5;
            background-color: #D4C8B5;
            border: 2px solid #D4C8B5;
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            border-radius: 3px;
            position: relative;
            margin-top: 2px;
        }

        .anonymous-checkbox:checked {
            background-color: #000000;
            border-color: #000000;
        }

        .anonymous-checkbox:checked::after {
            content: "✓";
            font-family: 'Fivo Sans Modern Heavy', 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            color: #D4C8B5;
            font-size: 12px;
            font-weight: 900;
            display: block;
            text-align: center;
            line-height: 1;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .checkbox-label {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 17px;
            color: #FFFFFF;
            cursor: pointer;
            user-select: none;
        }

        .submit-button {
            width: 56px;
            height: 56px;
            border-radius: 0;
            background: #000000;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s cubic-bezier(0.4, 0, 0.2, 1), box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: inset 4px 4px 8px rgba(255, 255, 255, 0.15), inset -2px -2px 4px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            position: relative;
            transform: skewX(-15deg);
        }

        .submit-button:hover:not(.error):not(.success) {
            background: #D4C8B5;
            box-shadow: inset 6px 6px 12px rgba(0, 0, 0, 0.2), inset -3px -3px 6px rgba(255, 255, 255, 0.4);
        }

        .submit-button:active:not(.error):not(.success) {
            background: #1a1a1a;
            box-shadow: inset 8px 8px 16px rgba(255, 255, 255, 0.25), inset -4px -4px 8px rgba(0, 0, 0, 0.5);
        }

        .submit-button.error {
            width: 56px;
            border-radius: 0;
            background: #E50000;
            border: none;
            transform: skewX(-15deg);
            box-shadow: inset 4px 4px 8px rgba(0, 0, 0, 0.25), inset -2px -2px 4px rgba(255, 255, 255, 0.2);
        }

        .submit-button.success {
            width: 56px;
            border-radius: 0;
            background: #00AA00;
            border: none;
            transform: skewX(-15deg);
            box-shadow: inset 4px 4px 8px rgba(0, 0, 0, 0.25), inset -2px -2px 4px rgba(255, 255, 255, 0.2);
        }

        .submit-button.error .arrow-icon {
            opacity: 1;
            transform: skewX(15deg);
            display: none;
        }

        .exclamation-text {
            font-family: 'Fivo Sans Modern Heavy', 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 18px;
            font-weight: 900;
            color: #000000;
            transform: skewX(15deg);
            display: none;
            line-height: 1;
        }

        .submit-button.error .exclamation-text {
            display: block;
        }

        .submit-button.success .arrow-icon {
            opacity: 1;
            transform: skewX(15deg);
            display: none;
        }

        .checkmark-text {
            font-family: 'Fivo Sans Modern Heavy', 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 18px;
            font-weight: 900;
            color: #000000;
            transform: skewX(15deg);
            display: none;
            line-height: 1;
        }

        .submit-button.success .checkmark-text {
            display: block;
        }

        .error-message {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%) skewX(15deg);
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 14px;
            font-weight: 400;
            color: #1d1d1f;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
        }

        .submit-button.error .error-message {
            visibility: visible;
        }

        .success-message {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%) skewX(15deg);
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 14px;
            font-weight: 400;
            color: #1d1d1f;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
        }

        .submit-button.success .success-message {
            visibility: visible;
        }





        .arrow-icon {
            width: 18px;
            height: 18px;
            fill: #FFFFFF;
            transform: skewX(15deg);
        }

        .submit-button:hover:not(.error):not(.success) .arrow-icon {
            fill: #1d1d1f;
        }

        .manifesto-button {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: #000000;
            color: #FFFFFF;
            border: none;
            padding: 16px 32px;
            font-size: 17px;
            font-weight: 400;
            font-style: normal;
            border-radius: 0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: -0.022em;
            box-shadow: inset 4px 4px 8px rgba(255, 255, 255, 0.15), inset -2px -2px 4px rgba(0, 0, 0, 0.3);
        }

        .manifesto-button span {
            display: inline-block;
        }

        .manifesto-button:hover {
            background: #D4C8B5;
            color: #1d1d1f;
            box-shadow: inset 6px 6px 12px rgba(0, 0, 0, 0.2), inset -3px -3px 6px rgba(255, 255, 255, 0.4);
        }

        .manifesto-button.modal-open {
            background: #D4C8B5 !important;
            color: #000000 !important;
        }

        /* Ensure manifesto button stays black on mobile */
        @media (max-width: 768px) {
            .manifesto-button {
                background: #000000 !important;
                color: #FFFFFF !important;
            }
            
            .manifesto-button:hover {
                background: #000000 !important;
                color: #FFFFFF !important;
            }
            
            .manifesto-button.modal-open {
                background: #000000 !important;
                color: #FFFFFF !important;
            }
        }

        .manifesto-button:active {
            background: #CCCCCC;
            color: #000000;
            box-shadow: inset 8px 8px 16px rgba(0, 0, 0, 0.25), inset -4px -4px 8px rgba(255, 255, 255, 0.5);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            display: none;
            align-items: flex-start;
            justify-content: center;
            z-index: 1000;
            padding: 0 20px;
            padding-top: 50px;
        }

        .modal-content {
            background: #D4C8B5;
            border: none;
            border-radius: 0;
            max-width: 1400px;
            width: 100%;
            max-height: 85vh;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            animation: modalSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-content.closing {
            animation: modalSlideOut 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-header {
            padding: 24px 32px 16px;
            border-bottom: 1px solid #000000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            width: 100%;
            box-sizing: border-box;
            margin: 0;
        }

        .modal-title {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 28px;
            font-weight: 700;
            color: #d62e0d;
            margin: 0;
        }

        .modal-close-x {
            position: absolute;
            top: 50%;
            right: 32px;
            transform: translateY(-50%);
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 24px;
            font-weight: 300;
            color: #000000;
            cursor: pointer;
            z-index: 10;
        }


        .social-links {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            justify-content: center;
            gap: 20px;
            z-index: 100;
        }

        .social-button {
            width: 48px;
            height: 48px;
            border-radius: 0;
            background: #000000;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: inset 3px 3px 6px rgba(255, 255, 255, 0.15), inset -1px -1px 3px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            position: relative;
        }

        .social-button:hover {
            background: #D4C8B5;
            box-shadow: inset 4px 4px 8px rgba(0, 0, 0, 0.2), inset -2px -2px 4px rgba(255, 255, 255, 0.4);
        }

        .social-button:hover .social-icon {
            fill: #000000;
            stroke: #000000;
            color: #000000;
        }

        .social-button:active {
            background: #B8A890;
            box-shadow: inset 6px 6px 12px rgba(0, 0, 0, 0.25), inset -3px -3px 6px rgba(255, 255, 255, 0.5);
        }

        .social-icon {
            width: 20px;
            height: 20px;
            fill: #D4C8B5;
            stroke: #D4C8B5;
            color: #D4C8B5;
        }

        .modal-body {
            padding: 24px 32px 32px;
            max-height: calc(85vh - 100px);
            overflow-y: auto;
        }

        .modal-body::-webkit-scrollbar {
            width: 8px;
        }

        .modal-body::-webkit-scrollbar-track {
            background: #D4C8B5;
        }

        .modal-body::-webkit-scrollbar-thumb {
            background: #000000;
            border-radius: 4px;
        }

        .modal-body::-webkit-scrollbar-thumb:hover {
            background: #333333;
        }

        .manifesto-content {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 17px;
            font-weight: 400;
            line-height: 1.6;
            color: #000000;
        }

        .manifesto-content h2 {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 22px;
            font-weight: 500;
            color: #000000;
            margin: 24px 0 12px 0;
        }

        .manifesto-content h2:first-child {
            margin-top: 0;
        }

        .manifesto-content p {
            margin: 0 0 16px 0;
        }

        .manifesto-content ul {
            margin: 16px 0;
            padding-left: 20px;
        }

        .manifesto-content li {
            margin: 8px 0;
        }


        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        @keyframes modalSlideOut {
            from {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
            to {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
        }

        @media (max-width: 1024px) {
            .modal-content {
                max-width: 800px;
            }
        }

        @media (max-width: 768px) {
            .modal-overlay {
                padding-top: 20px;
                padding-bottom: 80px;
                align-items: flex-start;
            }
            
            .modal-content {
                margin: 0 -150px;
                max-width: calc(110% + 350px);
                max-height: calc(100vh - 100px);
                height: calc(100vh - 100px);
            }
            
            .modal-header {
                padding: 20px 24px 12px;
            }
            
            .modal-title {
                font-size: 24px;
            }
            
            .modal-body {
                padding: 20px 24px 24px;
                max-height: calc(100vh - 180px);
                height: calc(100vh - 180px);
                overflow-y: auto;
            }
            
            .manifesto-content {
                font-size: 16px;
            }
            
            .manifesto-content h2 {
                font-size: 20px;
            }
            
            .pledge-subheader {
                font-size: 17px;
            }
            
            .pledge-form-button {
                font-size: 16px;
                padding: 16px 32px;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 20px 15px;
            }
            
            .container {
                margin-top: -40px;
            }
            
            .hero-sentence {
                font-size: 35px;
            }
            
            .blurb {
                font-size: 17px;
            }
            
            .name-input {
                font-size: 16px;
                padding: 14px 18px;
            }
            
            .manifesto-button {
                font-size: 16px;
                padding: 14px 28px;
            }
        }

        @media (max-width: 450px) {
            .hero-sentence {
                font-size: 55px;
            }
            
            .mobile-break {
                display: block;
            }
            
            .blurb {
                font-size: 15px;
            }
        }

        /* Mobile Form Popup Styles */
        .mobile-form-popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            display: none;
            align-items: flex-start;
            justify-content: center;
            z-index: 1000;
            padding: 0 20px;
            padding-top: 80px;
        }

        .mobile-form-popup-content {
            background: #D4C8B5;
            border: none;
            border-radius: 0;
            width: 100%;
            max-width: calc(110% + 350px);
            margin: 0 -150px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            animation: modalSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            max-height: calc(100vh - 40px);
            height: auto;
        }

        .mobile-form-popup-content.closing {
            animation: modalSlideOut 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .mobile-form-popup-header {
            padding: 20px 24px 12px;
            border-bottom: 1px solid #000000;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            width: 100%;
            box-sizing: border-box;
            margin: 0;
        }

        .mobile-form-popup-title {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 24px;
            font-weight: 700;
            color: #d62e0d;
            margin: 0;
        }


        .mobile-form-popup-body {
            padding: 20px 24px 24px;
            max-height: calc(100vh - 120px);
            height: auto;
            overflow-y: auto;
        }

        .mobile-form-popup-body::-webkit-scrollbar {
            width: 8px;
        }

        .mobile-form-popup-body::-webkit-scrollbar-track {
            background: #D4C8B5;
        }

        .mobile-form-popup-body::-webkit-scrollbar-thumb {
            background: #000000;
            border-radius: 4px;
        }

        .mobile-form-popup-body::-webkit-scrollbar-thumb:hover {
            background: #333333;
        }

        .mobile-form-popup-content-text {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 17px;
            font-weight: 400;
            line-height: 1.6;
            color: #000000;
            text-align: center;
        }

        .mobile-form-popup-subheader {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 17px;
            font-weight: 500;
            color: #000000;
            margin: 0 0 20px 0;
            line-height: 1.5;
        }

        .mobile-form-popup-button-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            padding-top: 40px;
        }

        .mobile-form-popup-button {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: #000000;
            color: #FFFFFF;
            border: none;
            padding: 16px 32px;
            font-size: 16px;
            font-weight: 500;
            font-style: normal;
            border-radius: 0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: -0.022em;
            box-shadow: inset 4px 4px 8px rgba(255, 255, 255, 0.15), inset -2px -2px 4px rgba(0, 0, 0, 0.3);
        }

        .mobile-form-popup-button span {
            display: inline-block;
        }

        .mobile-form-popup-button:hover {
            background: #000000;
            color: #FFFFFF;
            box-shadow: inset 4px 4px 8px rgba(255, 255, 255, 0.15), inset -2px -2px 4px rgba(0, 0, 0, 0.3);
        }

        .mobile-form-popup-button:active {
            background: #CCCCCC;
            color: #000000;
            box-shadow: inset 8px 8px 16px rgba(0, 0, 0, 0.25), inset -4px -4px 8px rgba(255, 255, 255, 0.5);
        }

        /* Desktop Form Popup Styles */
        .desktop-form-popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            display: none;
            align-items: flex-start;
            justify-content: center;
            z-index: 1000;
            padding: 0 20px;
            padding-top: 50px;
        }

        .desktop-form-popup-content {
            background: #D4C8B5;
            border: none;
            border-radius: 0;
            max-width: 1400px;
            width: 100%;
            max-height: 85vh;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            animation: modalSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .desktop-form-popup-content.closing {
            animation: modalSlideOut 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .desktop-form-popup-header {
            padding: 24px 32px 16px;
            border-bottom: 1px solid #000000;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            width: 100%;
            box-sizing: border-box;
            margin: 0;
        }

        .desktop-form-popup-title {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 36px;
            font-weight: 700;
            color: #d62e0d;
            margin: 0;
        }

        .desktop-form-popup-body {
            padding: 24px 32px 32px;
            max-height: calc(85vh - 100px);
            overflow-y: auto;
        }

        .desktop-form-popup-body::-webkit-scrollbar {
            width: 8px;
        }

        .desktop-form-popup-body::-webkit-scrollbar-track {
            background: #D4C8B5;
        }

        .desktop-form-popup-body::-webkit-scrollbar-thumb {
            background: #000000;
            border-radius: 4px;
        }

        .desktop-form-popup-body::-webkit-scrollbar-thumb:hover {
            background: #333333;
        }

        .desktop-form-popup-content-text {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 17px;
            font-weight: 400;
            line-height: 1.6;
            color: #000000;
            text-align: center;
        }

        .desktop-form-popup-subheader {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            font-size: 22px;
            font-weight: 500;
            color: #000000;
            margin: 0 0 20px 0;
            line-height: 1.5;
        }

        .desktop-form-popup-button-container {
            display: flex;
            justify-content: center;
            margin-top: 10px;
            padding-top: 20px;
        }

        .desktop-form-popup-button {
            font-family: 'Fivo Sans Modern', -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: #000000;
            color: #FFFFFF;
            border: none;
            padding: 16px 32px;
            font-size: 17px;
            font-weight: 500;
            font-style: normal;
            border-radius: 0;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: -0.022em;
            box-shadow: inset 4px 4px 8px rgba(255, 255, 255, 0.15), inset -2px -2px 4px rgba(0, 0, 0, 0.3);
        }

        .desktop-form-popup-button span {
            display: inline-block;
        }

        .desktop-form-popup-button:hover {
            background: #D4C8B5;
            color: #1d1d1f;
            box-shadow: inset 6px 6px 12px rgba(0, 0, 0, 0.2), inset -3px -3px 6px rgba(255, 255, 255, 0.4);
        }

        .desktop-form-popup-button:active {
            background: #CCCCCC;
            color: #000000;
            box-shadow: inset 8px 8px 16px rgba(0, 0, 0, 0.25), inset -4px -4px 8px rgba(255, 255, 255, 0.5);
        }

        /* Mobile popup now shows on all screen sizes */

        /* Hide desktop popup on mobile */
        @media (max-width: 768px) {
            .desktop-form-popup-overlay {
                display: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
            <h1 class="hero-sentence">Reclaim Your Freedom.<br class="mobile-break"> End Phone Bans.</h1>
        
        <p class="blurb">
            Cell-phones enable safety, access, and agency. Pledge your support to the only student-led movement against cell-phone bans, and help tackle this issue from the inside out.
        </p>
        
        <div class="form-group">
            <div class="input-container">
                <input 
                    type="text" 
                    class="name-input" 
                    placeholder=""
                    id="nameInput"
                >
                <div class="placeholder-text">
                    Enter Name to Pledge <span class="blinking-cursor"></span>
                </div>
            </div>
            <button class="submit-button" onclick="handleSubmit()" id="submitButton">
                <svg class="arrow-icon" viewBox="0 0 24 24">
                    <path d="M8.59 16.59L13.17 12L8.59 7.41L10 6l6 6-6 6-1.41-1.41z"/>
                </svg>
                <span class="exclamation-text">!</span>
                <span class="checkmark-text">✓</span>
                <span class="error-message" id="errorMessage">Please enter your name</span>
                <span class="success-message" id="successMessage"></span>
            </button>
        </div>
        
        <div class="checkbox-container">
            <input type="checkbox" id="anonymousCheckbox" class="anonymous-checkbox">
            <label for="anonymousCheckbox" class="checkbox-label">Submit Anonymously</label>
        </div>
        
        <button class="manifesto-button" onclick="handleManifesto()">
            <span>Manifesto</span>
        </button>
        
        
        <!-- Social Links -->
        <div class="social-links">
            <button class="social-button" onclick="handleSocial('instagram')">
                <svg class="social-icon" viewBox="0 0 24 24">
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                </svg>
            </button>
            <button class="social-button" onclick="handleSocial('email')">
                <svg class="social-icon" viewBox="0 0 24 24">
                    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                </svg>
            </button>
            <button class="social-button" onclick="openStudentForm()">
                <svg class="social-icon" viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                    <path d="M14 2v6h6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                    <path d="M16 13H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                    <path d="M16 17H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                    <path d="M10 9H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Manifesto Modal Overlay -->
    <div class="modal-overlay" id="manifestoModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Our Manifesto</h2>
                <span class="modal-close-x" onclick="closeManifesto()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="manifesto-content">
                    <h2>We refuse to accept blanket cell phone bans in schools.</h2>
                    <p>Banning is the easy way out for administrators and faculty to claim they "care about student outcomes." Cell-phone bans are not aligned with the purpose of education.</p>
                    
                    <h2>Cell-phone bans are not aligned with the purpose of education</h2>
                    <p>The U.S. Department of Education defines their own mission as to promote student achievement and preparation for global competitiveness by fostering educational excellence and ensuring equal access. Cell phone bans remove students from the ever evolving globalized environment where technology is inseparable from daily life. Cell-phones will be a part of students' futures so they should be part of students' present. If states and districts really want to promote student achievement and preparation for global competitiveness, they should be encouraging responsible use.</p>
                    
                    <h2>America is not safe enough for cell phone bans</h2>
                    <p>In 2023 there were 349 school shootings, followed by another 330 in 2024, according to the K-12 School Shooting Database. During these tragedies, students consistently relied on their phones to contact loved ones or emergency officials, and those without access described regret and fear. As one survivor of the Apalachee High School shooting said, "I didn't have my phone on me, and I couldn't communicate with my mom for a half an hour… I didn't know if it was the last chance I had to talk with her." If schools truly want to prioritize student safety and sanity, they should ensure responsible access to phones rather than banning them.</p>
                    
                    <h2>Private companies like Yondr lobby so that cell-phone bans can go into effect. Companies decide instead of students.</h2>
                    <p>Cell phone bans are being pushed not for student benefit, but for corporate gain. Lobbying records from the New York State Ethics Commission show Yondr spent $80,000 in 2024 on lobbying services, and today more than a third of public secondary schools in New York use their products. The voice of profit has been louder than the voice of students. We must prioritize students and eliminate outside factors that seek to profit off of our youth.</p>
                    
                    <h2>Research indicates that the impact of universal phone-bans is negligible</h2>
                    <p>A recent meta-analysis of the evidence from 22 studies concluded that a one-size-fits-all solution for cellphones in schools and classrooms is unlikely to have strong effects, as the current state of research shows that the way cellphone bans affect students' mental health, academic achievement, and the likelihood of experiencing or engaging in cyberbullying is nuanced and complex (Campbell et al., 2024).</p>
                    
                    <h2>What we Want</h2>
                    <ul>
                        <li><strong>State-level action</strong> to roll back blanket phone bans and replace them with smarter, student-centered policies.</li>
                        <li><strong>Curriculum</strong> that evolves to prepare students for a world of technological integration, not one that pretends tech doesn't exist.</li>
                        <li><strong>Safety policies</strong> that prioritize student wellbeing, ensuring access to phones in emergencies rather than treating safety as an afterthought.</li>
                        <li><strong>Student-led development</strong> of phone policies, with real representation and decision-making power for the people most affected.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>


    <!-- Mobile Form Popup Overlay -->
    <div class="mobile-form-popup-overlay" id="mobileFormPopup">
        <div class="mobile-form-popup-content">
            <div class="mobile-form-popup-header">
                <h2 class="mobile-form-popup-title">Make Your Pledge Matter</h2>
            </div>
            <div class="mobile-form-popup-body">
                <div class="mobile-form-popup-content-text">
                    <h3 class="mobile-form-popup-subheader">Provide us with student data to help support our cause. Contribute to the first student data set for phone bans.</h3>
                    
                    <div class="mobile-form-popup-button-container">
                        <button class="mobile-form-popup-button" id="mobileFormBtn" style="pointer-events: auto; z-index: 9999;">
                            <span>Complete Student Data Form</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Desktop Form Popup Overlay -->
    <div class="desktop-form-popup-overlay" id="desktopFormPopup">
        <div class="desktop-form-popup-content">
            <div class="desktop-form-popup-header">
                <h2 class="desktop-form-popup-title">Make Your Pledge Matter</h2>
            </div>
            <div class="desktop-form-popup-body">
                <div class="desktop-form-popup-content-text">
                    <h3 class="desktop-form-popup-subheader">Provide us with student data to help support our cause. Contribute to the first student data set for phone bans.</h3>
                    
                    <div class="desktop-form-popup-button-container">
                        <button class="desktop-form-popup-button" id="desktopFormBtn" style="pointer-events: auto; z-index: 9999;">
                            <span>Complete Student Data Form</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Airtable configuration - Direct API integration
        const AIRTABLE_API_KEY = 'patIZeLFmGVEDn4kJ.b92c248b82ff8afbd56818f1c8ae6bf0305a5e684c1c1c8dea8eb41e122094e2';
        const AIRTABLE_BASE_ID = 'appjpBQMdI7HlP9wm';
        const AIRTABLE_TABLE_NAME = 'Submissions';

        // In-memory cache for IP to zip code lookups
        const ipZipCache = new Map();

        // IP tracking removed - allowing unlimited submissions

        // Function to get zip code from IP address with caching and optimized services
        async function getZipCodeFromIP(ipAddress) {
            try {
                if (!ipAddress || ipAddress === 'Unknown' || ipAddress === '127.0.0.1') {
                    return null;
                }
                
                // Check cache first
                if (ipZipCache.has(ipAddress)) {
                    console.log('📋 Using cached zip code for IP:', ipAddress);
                    return ipZipCache.get(ipAddress);
                }
                
                console.log('🌍 Looking up zip code for IP:', ipAddress);
                
                // Optimized service order based on reliability and rate limits
                const services = [
                    {
                        name: 'ip-api.com',
                        url: `http://ip-api.com/json/${ipAddress}`,
                        extractZip: (data) => data.zip,
                        priority: 1 // Most reliable free service
                    },
                    {
                        name: 'ipinfo.io',
                        url: `https://ipinfo.io/${ipAddress}/json`,
                        extractZip: (data) => data.postal,
                        priority: 2 // Good free tier
                    },
                    {
                        name: 'ipapi.co',
                        url: `https://ipapi.co/${ipAddress}/json/`,
                        extractZip: (data) => data.postal || data.zip,
                        priority: 3 // Backup only
                    }
                ];
                
                // Sort by priority
                services.sort((a, b) => a.priority - b.priority);
                
                for (const service of services) {
                    try {
                        console.log(`🔍 Trying ${service.name}...`);
                        const response = await fetch(service.url, {
                            timeout: 3000, // Reduced timeout for faster fallback
                            headers: {
                                'User-Agent': 'Phone-Campaign-App/1.0'
                            }
                        });
                        
                        if (!response.ok) {
                            console.log(`❌ ${service.name} error:`, response.status);
                            continue;
                        }
                        
                        const data = await response.json();
                        console.log(`📍 ${service.name} data:`, data);
                        
                        const zipCode = service.extractZip(data);
                        
                        if (zipCode && zipCode !== '') {
                            console.log(`✅ Zip code found via ${service.name}:`, zipCode);
                            
                            // Cache the result
                            ipZipCache.set(ipAddress, zipCode);
                            
                            // Limit cache size to prevent memory issues
                            if (ipZipCache.size > 10000) {
                                const firstKey = ipZipCache.keys().next().value;
                                ipZipCache.delete(firstKey);
                            }
                            
                            return zipCode;
                        } else {
                            console.log(`❌ No zip code from ${service.name}`);
                        }
                    } catch (serviceError) {
                        console.log(`❌ ${service.name} failed:`, serviceError.message);
                        continue;
                    }
                }
                
                console.log('❌ All geolocation services failed');
                
                // Cache the failure to avoid retrying immediately
                ipZipCache.set(ipAddress, null);
                
                return null;
            } catch (error) {
                console.error('❌ Error getting zip code:', error.message);
                return null;
            }
        }

        // Function to get user's IP address
        async function getUserIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                console.log('IP Address retrieved:', data.ip);
                return data.ip;
            } catch (error) {
                console.error('Error fetching IP:', error);
                return 'Unknown';
            }
        }

        // Function to format timestamp in dd/mm/yy and 24-hour format
        function formatTimestamp() {
            const now = new Date();
            const day = String(now.getDate()).padStart(2, '0');
            const month = String(now.getMonth() + 1).padStart(2, '0');
            const year = String(now.getFullYear()).slice(-2);
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            
            return `${day}/${month}/${year} ${hours}:${minutes}:${seconds}`;
        }

        // Duplicate check removed - focusing on Airtable integration first

        // Function to submit data to Airtable directly
        async function submitToAirtable(name, isAnonymous, ipAddress) {
            const finalName = isAnonymous ? 'Anonymous' : name;
            const timestamp = formatTimestamp();
            
            console.log('🔍 === SUBMITTING TO AIRTABLE DIRECTLY ===');
            console.log('📝 Name:', finalName);
            console.log('🌐 IP Address:', ipAddress);
            console.log('👤 Anonymous:', isAnonymous);
            console.log('⏰ Timestamp:', timestamp);
            
            // Duplicate checking removed - allowing unlimited submissions
            
            // Get zip code from IP address
            const zipCode = await getZipCodeFromIP(ipAddress);
            
            // Prepare data for Airtable
            const fields = {
                'Name': finalName,
                'IP Adress': ipAddress
            };
            
            // Add zip code if available
            if (zipCode) {
                // Try to convert to number, but keep as string if it contains letters
                const numericZip = parseInt(zipCode);
                if (!isNaN(numericZip) && numericZip.toString() === zipCode) {
                    fields['Zip'] = numericZip; // Pure numeric zip code
                } else {
                    fields['Zip'] = zipCode; // Keep as string for alphanumeric postal codes
                }
                console.log('📮 Adding zip code to Airtable:', fields['Zip']);
            } else {
                console.log('❌ No zip code to add');
            }
            
            const data = {
                records: [
                    {
                        fields: fields
                    }
                ]
            };

            console.log('📦 Data to send:', JSON.stringify(data, null, 2));
            
            try {
                const url = `https://api.airtable.com/v0/${AIRTABLE_BASE_ID}/${AIRTABLE_TABLE_NAME}`;
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${AIRTABLE_API_KEY}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                console.log('📡 Response status:', response.status);
                console.log('📡 Response ok:', response.ok);

                if (response.ok) {
                    const responseData = await response.json();
                    console.log('🎉 ✅ SUCCESS! Data submitted to Airtable:');
                    console.log('📋 Response data:', JSON.stringify(responseData, null, 2));
                    
                    return true;
                } else {
                    const errorData = await response.json();
                    console.error('❌ Submission failed!');
                    console.error('📊 Status:', response.status);
                    console.error('📊 Error Details:', errorData);
                    return false;
                }
            } catch (error) {
                console.error('❌ Submission error:', error);
                console.error('📊 Error type:', error.name);
                console.error('📊 Error message:', error.message);
                return false;
            }
        }

        // Alternative submission method using form
        async function submitViaForm(name, ipAddress, isAnonymous, timestamp) {
            console.log('Trying form submission method...');
            
            try {
                // Create a hidden form
                const form = document.createElement('form');
                form.method = 'POST';
                form.action = `https://api.airtable.com/v0/${AIRTABLE_BASE_ID}/${AIRTABLE_TABLE_NAME}`;
                form.style.display = 'none';
                
                // Add authorization header via hidden input (won't work, but let's try)
                const authInput = document.createElement('input');
                authInput.type = 'hidden';
                authInput.name = 'Authorization';
                authInput.value = `Bearer ${AIRTABLE_API_KEY}`;
                form.appendChild(authInput);
                
                // Add data fields
                const fields = {
                    'Name': name,
                    'IP Address': ipAddress,
                    'Anonymous': isAnonymous,
                    'Timestamp': timestamp
                };
                
                Object.keys(fields).forEach(key => {
                    const input = document.createElement('input');
                    input.type = 'hidden';
                    input.name = key;
                    input.value = fields[key];
                    form.appendChild(input);
                });
                
                document.body.appendChild(form);
                
                // For now, just log and simulate success
                console.log('Form created with data:', fields);
                console.log('✅ Simulated successful submission');
                
                document.body.removeChild(form);
                return true;
                
            } catch (error) {
                console.error('Form submission error:', error);
                return false;
            }
        }

        async function handleSubmit() {
            const nameInput = document.getElementById('nameInput');
            const anonymousCheckbox = document.getElementById('anonymousCheckbox');
            const name = nameInput.value.trim();
            const isAnonymous = anonymousCheckbox.checked;
            const submitButton = document.getElementById('submitButton');
            const errorMessage = document.getElementById('errorMessage');
            const successMessage = document.getElementById('successMessage');
            
            // Remove any existing states
            submitButton.classList.remove('error', 'success');
            
            // Check if submission is valid (either has name or is anonymous)
            if (name || isAnonymous) {
                try {
                    // Get IP address first
                    const ipAddress = await getUserIP();
                    
                    // Proceed with submission (no duplicate check)
                    submitButton.classList.add('success');
                    
                    const result = await submitToAirtable(name, isAnonymous, ipAddress);
                    
                    if (result === true) {
                        console.log('✅ Submission successful');
                        // Show success message
                        successMessage.style.opacity = '1';
                        setTimeout(() => {
                            successMessage.style.opacity = '0';
                        }, 2000);
                        
                        // Show mobile popup immediately after successful submission
                        console.log('🎉 About to show mobile popup...');
                        setTimeout(() => {
                            showMobileFormPopup();
                            console.log('🎉 Mobile popup should be visible now');
                        }, 0);
                    } else {
                        console.log('❌ Submission failed');
                        // Show error state
                        submitButton.classList.remove('success');
                        submitButton.classList.add('error');
                        errorMessage.textContent = 'Submission failed. Please try again.';
                        setTimeout(() => {
                            submitButton.classList.remove('error');
                        }, 3000);
                        return; // Don't clear input on failure
                    }
                    
                    // Clear the input field immediately (unless anonymous)
                    if (!isAnonymous) {
                        nameInput.value = '';
                    }
                    
                    // Reset button after animation completes
                    setTimeout(() => {
                        submitButton.classList.remove('success');
                    }, 3000);
                    
                } catch (error) {
                    console.error('Error in submission process:', error);
                    // Show error state
                    submitButton.classList.add('error');
                    setTimeout(() => {
                        submitButton.classList.remove('error');
                    }, 3000);
                }
            } else {
                // Add error class to trigger animation
                submitButton.classList.add('error');
                
                // Reset after animation completes
                setTimeout(() => {
                    submitButton.classList.remove('error');
                }, 3000);
            }
        }

        // Handle placeholder text visibility
        function handlePlaceholderVisibility() {
            const nameInput = document.getElementById('nameInput');
            const placeholderText = document.querySelector('.placeholder-text');
            
            if (nameInput.value.trim() === '') {
                placeholderText.style.display = 'block';
            } else {
                placeholderText.style.display = 'none';
            }
        }

        // Handle anonymous checkbox changes
        function handleAnonymousCheckbox() {
            const nameInput = document.getElementById('nameInput');
            const anonymousCheckbox = document.getElementById('anonymousCheckbox');
            
            if (anonymousCheckbox.checked) {
                nameInput.disabled = true;
                nameInput.value = '';
                handlePlaceholderVisibility();
            } else {
                nameInput.disabled = false;
                handlePlaceholderVisibility();
            }
        }

        // Add event listeners when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const nameInput = document.getElementById('nameInput');
            const anonymousCheckbox = document.getElementById('anonymousCheckbox');
            
            nameInput.addEventListener('input', handlePlaceholderVisibility);
            nameInput.addEventListener('blur', handlePlaceholderVisibility);
            anonymousCheckbox.addEventListener('change', handleAnonymousCheckbox);
            
            // Add event listeners for form buttons
            const mobileFormBtn = document.getElementById('mobileFormBtn');
            const desktopFormBtn = document.getElementById('desktopFormBtn');
            
            if (mobileFormBtn) {
                mobileFormBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    alert('Mobile button clicked!');
                    window.open('https://tally.so/r/wvkJe8', '_blank');
                });
            }
            
            if (desktopFormBtn) {
                desktopFormBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    alert('Desktop button clicked!');
                    window.open('https://tally.so/r/wvkJe8', '_blank');
                });
            }
            
            // Close modal when clicking outside of it
            const modal = document.getElementById('manifestoModal');
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeManifesto();
                }
            });
        });

        function handleManifesto() {
            const modal = document.getElementById('manifestoModal');
            const manifestoButton = document.querySelector('.manifesto-button');
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
            
            // Only change button color on mobile
            if (window.innerWidth <= 768) {
                manifestoButton.classList.add('modal-open');
            }
        }


        function handleSocial(platform) {
            // You can customize these URLs to your actual social media accounts
            const urls = {
                'instagram': 'https://instagram.com/endphonebans',
                'email': 'mailto:endphonebans@gmail.com'
            };
            
            if (urls[platform]) {
                window.open(urls[platform], '_blank');
            }
        }

        function closeManifesto() {
            const modal = document.getElementById('manifestoModal');
            const modalContent = modal.querySelector('.modal-content');
            const manifestoButton = document.querySelector('.manifesto-button');
            
            // Add closing animation
            modalContent.classList.add('closing');
            
            // Listen for animation end event
            const handleAnimationEnd = () => {
                modal.style.display = 'none';
                modalContent.classList.remove('closing'); // Reset for next time
                document.body.style.overflow = 'auto'; // Restore scrolling
                manifestoButton.classList.remove('modal-open'); // Remove cream color
                modalContent.removeEventListener('animationend', handleAnimationEnd);
            };
            
            modalContent.addEventListener('animationend', handleAnimationEnd);
            
            // Fallback timeout in case animationend doesn't fire
            setTimeout(() => {
                if (modal.style.display !== 'none') {
                    handleAnimationEnd();
                }
            }, 400);
        }


        function openStudentForm() {
            // Redirect to Tally form
            window.open('https://tally.so/r/wvkJe8', '_blank');
        }

        function openTallyForm() {
            // Open Tally form in new tab
            window.open('https://tally.so/r/wvkJe8', '_blank');
        }

        function openTallyFormAndCloseMobile() {
            window.open('https://tally.so/r/wvkJe8', '_blank');
            closeMobileFormPopup();
        }

        function openTallyFormAndCloseDesktop() {
            window.open('https://tally.so/r/wvkJe8', '_blank');
            closeDesktopFormPopup();
        }

        function showMobileFormPopup() {
            console.log('🔍 showMobileFormPopup called');
            const modal = document.getElementById('mobileFormPopup');
            console.log('🔍 Modal element found:', modal);
            if (modal) {
                modal.style.display = 'flex';
                console.log('🔍 Modal display set to flex');
                document.body.style.overflow = 'hidden'; // Prevent background scrolling
                console.log('🔍 Body overflow hidden');
            } else {
                console.error('❌ Mobile popup modal not found!');
            }
        }

        function showDesktopFormPopup() {
            const modal = document.getElementById('desktopFormPopup');
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeMobileFormPopup() {
            const modal = document.getElementById('mobileFormPopup');
            const modalContent = modal.querySelector('.mobile-form-popup-content');
            
            // Add closing animation
            modalContent.classList.add('closing');
            
            // Listen for animation end event
            const handleAnimationEnd = () => {
                modal.style.display = 'none';
                modalContent.classList.remove('closing'); // Reset for next time
                document.body.style.overflow = 'auto'; // Restore scrolling
                modalContent.removeEventListener('animationend', handleAnimationEnd);
            };
            
            modalContent.addEventListener('animationend', handleAnimationEnd);
            
            // Fallback timeout in case animationend doesn't fire
            setTimeout(() => {
                if (modal.style.display !== 'none') {
                    handleAnimationEnd();
                }
            }, 400);
        }

        function closeDesktopFormPopup() {
            const modal = document.getElementById('desktopFormPopup');
            const modalContent = modal.querySelector('.desktop-form-popup-content');
            
            // Add closing animation
            modalContent.classList.add('closing');
            
            // Listen for animation end event
            const handleAnimationEnd = () => {
                modal.style.display = 'none';
                modalContent.classList.remove('closing'); // Reset for next time
                document.body.style.overflow = 'auto'; // Restore scrolling
                modalContent.removeEventListener('animationend', handleAnimationEnd);
            };
            
            modalContent.addEventListener('animationend', handleAnimationEnd);
            
            // Fallback timeout in case animationend doesn't fire
            setTimeout(() => {
                if (modal.style.display !== 'none') {
                    handleAnimationEnd();
                }
            }, 400);
        }

        // Close modal when clicking outside of it
        document.getElementById('manifestoModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeManifesto();
            }
        });


        // Close mobile form popup when clicking outside of it
        document.getElementById('mobileFormPopup').addEventListener('click', function(e) {
            if (e.target === this) {
                closeMobileFormPopup();
            }
        });

        // Close desktop form popup when clicking outside of it
        document.getElementById('desktopFormPopup').addEventListener('click', function(e) {
            if (e.target === this) {
                closeDesktopFormPopup();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const manifestoModal = document.getElementById('manifestoModal');
                const mobileFormPopup = document.getElementById('mobileFormPopup');
                const desktopFormPopup = document.getElementById('desktopFormPopup');
                
                if (mobileFormPopup.style.display === 'flex') {
                    closeMobileFormPopup();
                } else if (desktopFormPopup.style.display === 'flex') {
                    closeDesktopFormPopup();
                } else if (manifestoModal.style.display === 'flex') {
                    closeManifesto();
                }
            }
        });

        // Allow Enter key to trigger the submit button
        document.getElementById('nameInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                handleSubmit();
            }
        });

        // Add a function to view collected data (for debugging)
        function viewCollectedData() {
            const allSubmissions = JSON.parse(localStorage.getItem('allSubmissions') || '[]');
            console.log('=== ALL COLLECTED SUBMISSIONS ===');
            console.table(allSubmissions);
            console.log('Total submissions:', allSubmissions.length);
            console.log('=== END DATA VIEW ===');
        }

        // Make the function available globally for debugging
        window.viewCollectedData = viewCollectedData;

        // Add a function to clear all stored data (for testing)
        function clearAllData() {
            localStorage.removeItem('lastSubmission');
            localStorage.removeItem('allSubmissions');
            console.log('✅ All stored submission data cleared');
        }

        // Make the function available globally for debugging
        window.clearAllData = clearAllData;

        // Health check function (equivalent to server endpoint)
        function getHealthStatus() {
            return {
                status: 'OK',
                message: 'App is running - unlimited submissions enabled',
                cache: {
                    size: ipZipCache.size,
                    maxSize: 10000
                }
            };
        }

        // Cache statistics function (equivalent to server endpoint)
        function getCacheStats() {
            return {
                totalEntries: ipZipCache.size,
                maxSize: 10000,
                utilization: `${((ipZipCache.size / 10000) * 100).toFixed(1)}%`
            };
        }

        // Make functions available globally for debugging
        window.getHealthStatus = getHealthStatus;
        window.getCacheStats = getCacheStats;
    </script>
</body>
</html>
